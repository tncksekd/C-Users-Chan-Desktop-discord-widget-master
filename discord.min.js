var discordWidget=discordWidget||function(){var e={},s="1.2";return{init:function(s){s.serverId="undefined"!=typeof s.serverId?s.serverId:!1,s.title="undefined"!=typeof s.title?s.title:!1,s.join="undefined"!=typeof s.join?s.join:!0,s.joinText="undefined"!=typeof s.joinText?s.joinText:"Join Server",s.alphabetical="undefined"!=typeof s.alphabetical?s.alphabetical:!1,s.theme="undefined"!=typeof s.theme?s.theme:"light",s.hideChannels="undefined"!=typeof s.hideChannels?s.hideChannels:!1,s.showAllUsers="undefined"!=typeof s.showAllUsers?s.showAllUsers:!1,s.allUsersDefaultState="undefined"!=typeof s.allUsersDefaultState?s.allUsersDefaultState:!0,s.showNick="undefined"!=typeof s.showNick?s.showNick:!0,s.userName="undefined"!=typeof s.userName?"?username="+s.userName:"",s.useCDN="undefined"!=typeof s.useCDN?s.useCDN:!0,e.serverId=s.serverId,e.title=s.title,e.join=s.join,e.joinText=s.joinText,e.alphabetical=s.alphabetical,e.theme=s.theme,e.hideChannels=s.hideChannels,e.showAllUsers=s.showAllUsers,e.allUsersDefaultState=s.allUsersDefaultState,e.showNick=s.showNick,e.userName=s.userName,e.useCDN=s.useCDN},render:function(){function n(){function n(e,s){return e.position<s.position?-1:e.position>s.position?1:0}function i(e){return'<li class="discord-channel">'+e+'</li><ul class="discord-userlist">'}function r(s,n){var i="";i=1==e.showNick&&s.nick?s.nick:s.username;var r="";return s.game&&(r=" - "+s.game.name),s.channel_id==n?"online"!=s.status?'<li class="discord-user"><img src="'+s.avatar_url+'" class="discord-avatar"/><div class="discord-user-status discord-idle"></div>'+i+"<span>"+r+"</span></li>":'<li class="discord-user"><img src="'+s.avatar_url+'" class="discord-avatar"/><div class="discord-user-status discord-online"></div>'+i+"<span>"+r+"</span></li>":""}function a(a,l){var t=$(".discord-widget")[0];$(t).attr("version",s);var d,o,c,h,u,f,p='<ul class="discord-tree"></ul><p class="discord-users-online"></p><p class="discord-join"></p><div class="discord-fade"></div>',m="";switch(l.title!==!1?(t.innerHTML='<div class="discord-title"><h3>'+l.title+"</h3></div>"+p,d=$(".discord-tree")[0]):(t.innerHTML=p,d=$(".discord-tree")[0],d.style.marginTop="0"),a){case"404":d.innerHTML='<span class="discord-error">Invalid Server ID</span>';break;case"522":d.innerHTML='<span class="discord-error">Discord is having issues.</span>'}if(!a)return void(d.innerHTML=a);if(o=$(".discord-users-online")[0],c=$(".discord-join")[0],"boolean"!=typeof l.hideChannels||!l.hideChannels)if(l.alphabetical){h=[],f=[];for(var v=0;v<a.channels.length;v++){u=!1;for(var g=0;g<l.hideChannels.length;g++)a.channels[v].name.indexOf(l.hideChannels[g])>=0&&(u=!0);u?f.push(a.channels[v].id):h.push(a.channels[v])}for(var v=0;v<h.length;v++){m+=i(h[v].name);for(var g=0;g<a.members.length;g++)m+=r(a.members[g],h[v].id);m+="</ul>"}}else{h=[],f=[];for(var v=0;v<a.channels.length;v++){u=!1;for(var g=0;g<l.hideChannels.length;g++)a.channels[v].name.indexOf(l.hideChannels[g])>=0&&(u=!0);u?f.push(a.channels[v].id):h.push(a.channels[v])}h.sort(n);for(var v=0;v<h.length;v++){m+=i(h[v].name);for(var g=0;g<a.members.length;g++)m+=r(a.members[g],h[v].id);m+="</ul>"}}if(l.showAllUsers){m+='<li class="discord-channel discord-allusers-toggle">&#9662; Online Users</li><ul class="discord-userlist discord-allusers">';for(var v=0;v<a.members.length;v++)(!a.members[v].channel_id||$.inArray(a.members[v].channel_id,f)>=0)&&(m+=r(a.members[v],a.members[v].channel_id));m+="</ul>"}var y="";"null"!=a.instant_invite&&(y='<a href="'+a.instant_invite+e.userName+'" target="_blank">'+e.joinText+"</a>"),d.innerHTML=m,o.innerHTML="Users Online: "+a.members.length,l.join?c.innerHTML=y:c.style.display="none"}var l="";switch(e.theme){case"dark":l="dark.min.css";break;case"light":l="light.min.css";break;case"none":l="none.min.css";break;default:l="light.min.css"}var t=e.useCDN?"//cdn.jsdelivr.net/discord-widget/"+s+"/":"./discord-widget/";$("head").append('<link rel="stylesheet" href="'+t+l+'" type="text/css" />');var d="https://discordapp.com/api/servers/"+e.serverId+"/embed.json",o=new XMLHttpRequest;o.onreadystatechange=function(){if(4==o.readyState&&200==o.status){var s=JSON.parse(o.responseText);a(s,e),e.allUsersDefaultState||($(".discord-allusers").toggle(),$(".discord-allusers-toggle").html("&#9656; Online Users")),$(".discord-allusers-toggle").click(function(){$(".discord-allusers").toggle(100,function(){$(".discord-allusers").is(":visible")?$(".discord-allusers-toggle").html("&#9662; Online Users"):$(".discord-allusers-toggle").html("&#9656; Online Users")})})}else 4==o.readyState&&404==o.status?a("404",e):4==o.readyState&&a(o.status,e)},o.open("GET",d,!0),o.send()}if(window.jQuery)n();else{var i=document.createElement("script");i.type="text/javascript",i.src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js",document.head.appendChild(i),i.onload=function(){n()}}}}}();
